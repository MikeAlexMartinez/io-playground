{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/providers/notices/notices.ts","../../src/providers/chat/chat.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/user/user.ts","../../src/providers/auth/auth.ts","../../src/providers/data/data.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;ACtCmD;AAEI;AAEX;AAG5C;IAIE,yBACU,aAA2B,EAC3B,KAAa;QADb,kBAAa,GAAb,aAAa,CAAc;QAC3B,UAAK,GAAL,KAAK,CAAQ;QAJhB,mBAAc,GAA8B,IAAI,qEAAe,CAAC,EAAE,CAAC,CAAC;IAKvE,CAAC;IAEL,8BAAI,GAAJ;QAAA,iBAYC;QAXC,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,OAAO,CAAC;YAC5B,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,IAAI;SACnB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAC,MAAM;YACrB,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnD,KAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,oCAAU,GAAV,UAAW,MAAM;QACf,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YACf,IAAI,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC;YAE5B,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAChC,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YACpC,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAE5C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC3C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;gBAC3B,KAAK,EAAE,MAAM,CAAC,KAAK;gBACnB,OAAO,EAAE,MAAM,CAAC,OAAO;gBACvB,MAAM,EAAE,MAAM,CAAC,MAAM;gBACrB,WAAW,EAAE,MAAM,CAAC,WAAW;gBAC/B,WAAW,EAAE,MAAM,CAAC,WAAW;gBAC/B,IAAI,EAAE,QAAQ;aACf,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,sCAAY,GAAZ,UAAa,MAAM;QACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,qCAAW,GAAX;QAAA,iBAgBC;QAfC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YAEb,IAAI,OAAO,GAAG;gBACZ,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,IAAI;aACjB,CAAC;YAEF,KAAI,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,yBAAyB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;gBACxE,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,GAAG,EAAP,CAAO,CAAC,CAAC;gBAC5C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;IACL,CAAC;IApEU,eAAe;QAD3B,yEAAU,EAAE;yCAMc,gEAAY;YACpB,6DAAM;OANZ,eAAe,CAsE3B;IAAD,sBAAC;CAAA;AAtE2B;;;;;;;;;;;;;;;;;;;;;;;ACNuB;AACI;AACX;AAG5C;IAIE,sBACS,YAA0B,EAC1B,IAAY;QADZ,iBAAY,GAAZ,YAAY,CAAc;QAC1B,SAAI,GAAJ,IAAI,CAAQ;QAJd,iBAAY,GAA8B,IAAI,qEAAe,CAAC,EAAE,CAAC,CAAC;IAKrE,CAAC;IAEL,2BAAI,GAAJ;IAEA,CAAC;IAED,+BAAQ,GAAR;QACE,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,8BAAO,GAAP,UAAQ,OAAO;QACb,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;YAC1B,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,IAAI,EAAE,MAAM;SACb,CAAC,CAAC;IACL,CAAC;IAED,gCAAS,GAAT;QAAA,iBAkBC;QAjBC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAEZ,IAAI,OAAO,GAAG;gBACZ,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,IAAI;aACjB,CAAC;YAEF,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,uBAAuB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,cAAI;gBACpE,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,GAAG,EAAP,CAAO,CAAC,CAAC;gBAE1C,KAAK,CAAC,OAAO,EAAE,CAAC;gBAEhB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IA5CU,YAAY;QADxB,yEAAU,EAAE;yCAMY,gEAAY;YACpB,6DAAM;OANV,YAAY,CA6CxB;IAAD,mBAAC;CAAA;AA7CwB;;;;;;;;;ACNzB;AAAA;AAAA;AAA2E;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJM;AACH;AACZ;AAE8B;AACd;AACN;AACD;AAEZ;AACc;AACS;AACT;AACA;AACA;AAwCtD;IAAA;IAAwB,CAAC;IAAZ,SAAS;QAtCrB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAK;aACN;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,iEAAU;gBACV,0EAAkB,CAAC,OAAO,EAAE;gBAC5B,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE;oBACzB,aAAa,EAAE,KAAK;oBACpB,cAAc,EAAE,IAAI;iBACrB,EACL;oBACE,KAAK,EAAE;wBACL,EAAE,YAAY,EAAE,2DAA2D,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAChK,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpI,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpI,EAAE,YAAY,EAAE,mDAAmD,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACnJ,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACzI,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,CAAC,WAAW,CAAC,EAAE;qBACpK;iBACF,CAAC;aACC;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,6DAAK;aACN;YACD,SAAS,EAAE;gBACT,2EAAS;gBACT,iFAAY;gBACZ,mFAAe;gBACf,0EAAY;gBACZ,2EAAY;gBACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;gBACpD,2EAAY;gBACZ,2EAAY;aACb;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACtD4B;AACT;AACY;AACM;AAEL;AAKtD;IAGE,eACU,SAAmB,EACnB,UAAqB,EACrB,aAA2B,EAC3B,KAAa,EACb,aAA2B;QAJ3B,cAAS,GAAT,SAAS,CAAU;QACnB,eAAU,GAAV,UAAU,CAAW;QACrB,kBAAa,GAAb,aAAa,CAAc;QAC3B,UAAK,GAAL,KAAK,CAAQ;QACb,kBAAa,GAAb,aAAa,CAAc;QAPrC,aAAQ,GAAO,UAAU,CAAC;QASxB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,6BAAa,GAAb;QAAA,iBAYC;QAXC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YAE1B,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;gBAC3B,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,6BAA6B,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC;YAEH,gEAAgE;YAChE,iEAAiE;YACjE,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;YAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAzBU,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;wFAK6B;YACP,iFAAS;YACN,8DAAY;YACpB,0EAAM;YACE,EAAY;OAR1B,KAAK,CA0BjB;IAAD,CAAC;AAAA;SA1BY,KAAK,2B;;;;;;;;;;;;;;;;;;;;ACVgC;AACP;AAE3C;;;;;EAKE;AAEF;IAEE,sBAAmB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QACjC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAC7C,CAAC;IAJU,YAAY;QADxB,yEAAU,EAAE;yCAGc,wEAAU;OAFxB,YAAY,CAMxB;IAAD,mBAAC;CAAA;AANwB;;;;;;;;;;;;;;;;;;;;;ACVyB;AACP;AAE3C;;;;;EAKE;AAEF;IAEE,sBAAmB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QACjC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAC7C,CAAC;IAJU,YAAY;QADxB,yEAAU,EAAE;yCAGc,wEAAU;OAFxB,YAAY,CAMxB;IAAD,mBAAC;CAAA;AANwB;;;;;;;;;;;;;;;;;;;;;ACVkB;AACb;AAG9B;IAKE;QAHO,OAAE,GAAY,IAAI,CAAC;IAGV,CAAC;IAEjB,mCAAY,GAAZ,UAAa,MAAM;QACjB,IAAI,CAAC,EAAE,GAAG,IAAI,wDAAO,CAAC,SAAS,EAAE;YAC/B,eAAe,EAAE,IAAI;SACtB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,qCAAc,GAAd;QACE,IAAI,OAAO,GAAG;YACZ,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,IAAI;SACZ,CAAC;QACF,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACrC,CAAC;IAED,gCAAS,GAAT,UAAU,GAAG;QACX,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED,gCAAS,GAAT,UAAU,GAAG;QACX,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,gCAAS,GAAT,UAAU,GAAG;QACX,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IAnCU,YAAY;QADxB,yEAAU,EAAE;;OACA,YAAY,CAqCxB;IAAD,mBAAC;CAAA;AArCwB","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 110;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 110\n// module chunks = 4","var map = {\n\t\"../pages/add-notice/add-notice.module\": [\n\t\t289,\n\t\t12\n\t],\n\t\"../pages/chat/chat.module\": [\n\t\t290,\n\t\t11\n\t],\n\t\"../pages/home/home.module\": [\n\t\t291,\n\t\t3\n\t],\n\t\"../pages/login/login.module\": [\n\t\t305,\n\t\t2\n\t],\n\t\"../pages/notices/notices.module\": [\n\t\t292,\n\t\t1\n\t],\n\t\"../pages/register/register.module\": [\n\t\t307,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 151;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 151\n// module chunks = 4","import { Injectable, NgZone } from '@angular/core';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport { DataProvider } from '../data/data';\n\n@Injectable()\nexport class NoticesProvider {\n\n  public noticesSubject: BehaviorSubject<Object[]> = new BehaviorSubject([]);\n\n  constructor(\n    private _dataProvider: DataProvider,\n    private _zone: NgZone\n  ) { }\n\n  init(): void {\n    this.emitNotices();\n\n    this._dataProvider.db.changes({\n      live: true,\n      since: 'now',\n      include_docs: true\n    }).on('change', (change) => {\n      if (change.doc.type === 'notice' || change.deleted) {\n        this.emitNotices();\n      }\n    });\n  }\n\n  getNotices(): BehaviorSubject<Object[]> {\n    return this.noticesSubject;\n  }\n\n  saveNotice(notice): void {\n    if (notice.doc) {\n      let updatedDoc = notice.doc;\n\n      updatedDoc.title = notice.title;\n      updatedDoc.message = notice.message;\n      updatedDoc.dateUpdated = notice.dateUpdated;\n\n      this._dataProvider.updateDoc(updatedDoc);\n    } else {\n      this._dataProvider.createDoc({\n        title: notice.title,\n        message: notice.message,\n        author: notice.author,\n        dateCreated: notice.dateCreated,\n        dateUpdated: notice.dateUpdated,\n        type: 'notice'\n      });\n    }\n  }\n\n  deleteNotice(notice): void {\n    this._dataProvider.deleteDoc(notice);\n  }\n\n  emitNotices(): void {\n    this._zone.run(() => {\n\n      let options = {\n        include_docs: true,\n        descending: true\n      };\n\n      this._dataProvider.db.query('notices/by_date_updated', options).then((data) => {\n        let notices = data.rows.map(row => row.doc);\n        this.noticesSubject.next(notices);\n      }).catch((err) => {\n        console.log(err);\n      });\n\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/notices/notices.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable, NgZone } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { DataProvider } from '../data/data';\n\n@Injectable()\nexport class ChatProvider {\n\n  public chatsSubject: BehaviorSubject<Object[]> = new BehaviorSubject([]);\n\n  constructor(\n    public dataProvider: DataProvider,\n    public zone: NgZone\n  ) { }\n\n  init(): void {\n\n  }\n\n  getChats(): BehaviorSubject<Object[]> {\n    return this.chatsSubject;\n  }\n\n  addChat(message): void {\n    this.dataProvider.createDoc({\n      message: message.message,\n      author: message.author,\n      dateCreated: message.dateCreated,\n      type: 'chat'\n    });\n  }\n\n  emitChats(): void {\n    this.zone.run(() => {\n\n      let options = {\n        include_docs: true,\n        descending: true\n      };\n\n      this.dataProvider.db.query('chats.by_date_created', options).then(data => {\n        let chats = data.rows.map(row => row.doc);\n        \n        chats.reverse();\n  \n        this.chatsSubject.next(chats);\n      }).catch((err) => {\n        console.log(err);\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\n\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { MyApp } from './app.component';\nimport { DataProvider } from '../providers/data/data';\nimport { NoticesProvider } from '../providers/notices/notices';\nimport { ChatProvider } from '../providers/chat/chat';\nimport { UserProvider } from '../providers/user/user';\nimport { AuthProvider } from '../providers/auth/auth';\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp, {\n      tabsPlacement: 'top',\n      preloadModules: true\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    NoticesProvider,\n    DataProvider,\n    ChatProvider,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    UserProvider,\n    AuthProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, NgZone } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { DataProvider } from '../providers/data/data';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = 'LoginPage';\n\n  constructor(\n    private _platform: Platform,\n    private _statusBar: StatusBar,\n    private _splashScreen: SplashScreen,\n    private _zone: NgZone,\n    private _dataProvider: DataProvider\n  ) {\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    this._platform.ready().then(() => {\n      \n      this._zone.runOutsideAngular(() => {\n        this._dataProvider.initDatabase('http://127.0.0.1:5984/hangz');\n      });\n\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this._statusBar.styleDefault();\n      this._splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class UserProvider {\n\n  public currentUser: any = false;\n\n  constructor(\n    public storage: Storage\n  ) {\n    console.log('Hello UserProvider Provider');\n  }\n\n  saveUserData(data): void {\n    this.currentUser = data;\n    this.storage.set('hangzUserData', data);\n  }\n\n  getUserData(): Promise<any> {\n    return this.storage.get('hangzUserData');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { Injectable, NgZone } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\n\nimport { App } from 'ionic-angular';\n\nimport { UserProvider } from '../user/user';\nimport { DataProvider } from '../data/data';\n\nimport { SERVER_ADDRESS } from '../../config/constants';\nimport 'rxjs/add/operator/map'\n\n@Injectable()\nexport class AuthProvider {\n\n  constructor(\n    public http: Http,\n    private userProvider: UserProvider,\n    private dataProvider: DataProvider,\n    private appCtrl: App,\n    private zone: NgZone\n  ) {\n    console.log('Hello AuthProvider Provider');\n  }\n\n  authenticate(credentials) {\n    return this.http.post(SERVER_ADDRESS + 'auth/login', credentials).map(res => res.json());\n  }\n\n  logout() {\n    let headers = new Headers();\n    headers.append('Authorization', 'Bearer ' + this.userProvider.currentUser.token + ':' + this.userProvider.currentUser.password);\n\n    this.http.post(SERVER_ADDRESS + 'auth/logout', {}, {headers: headers}).subscribe((res) => {});\n\n    this.dataProvider.db.destroy().then((res) => {\n      this.dataProvider.db = null;\n      this.userProvider.saveUserData(null);\n      this.appCtrl.getRootNav().setRoot('LoginPage');\n    }, (err) => {\n      console.log('could not destroy db');\n    });\n  }\n\n  register(details) {\n    return this.http.post(SERVER_ADDRESS + 'auth/register', details).map(res => res.json());\n  }\n\n  validateUsername(username) {\n    return this.http.get(SERVER_ADDRESS + 'auth/validate-username/' + username).map(res => res.json());\n  }\n\n  validateEmail(email) {\n    let encodedEmail = encodeURIComponent(email);\n    return this.http.get(SERVER_ADDRESS + 'auth/validate-email/' + encodedEmail).map(res => res.json());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { Injectable } from '@angular/core';\nimport PouchDB from 'pouchdb';\n\n@Injectable()\nexport class DataProvider {\n\n  public db: PouchDB = null;\n  public remote: string;\n\n  constructor() { }\n\n  initDatabase(remote): void {\n    this.db = new PouchDB('hangzdb', {\n      auto_compaction: true\n    });\n\n    this.remote = remote;\n\n    this.initRemoteSync();\n  }\n\n  initRemoteSync(): void {\n    let options = {\n      live: true,\n      retry: true\n    };\n    this.db.sync(this.remote, options);\n  }\n\n  createDoc(doc): Promise<any> {\n    return this.db.post(doc);\n  }\n\n  updateDoc(doc): Promise<any> {\n    return this.db.put(doc);\n  }\n\n  deleteDoc(doc): Promise<any> {\n    return this.db.remove(doc);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts"],"sourceRoot":""}