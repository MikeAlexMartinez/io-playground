{"version":3,"sources":["../../src/pages/notices/notices.module.ts","../../src/pages/notices/notices.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NoticesPage } from './notices';\n\n@NgModule({\n  declarations: [\n    NoticesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NoticesPage),\n  ],\n})\nexport class NoticesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notices/notices.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, ModalController, LoadingController } from 'ionic-angular';\nimport { NoticesProvider } from '../../providers/notices/notices';\nimport { UserProvider } from '../../providers/user/user';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-notices',\n  templateUrl: 'notices.html',\n})\nexport class NoticesPage {\n\n  public notices: Object[] = [];\n  public loading: any;\n\n  constructor(\n    private _navCtrl: NavController,\n    private _alertCtrl: AlertController,\n    private _modalCtrl: ModalController,\n    private _noticesProvider: NoticesProvider,\n    private _userProvider: UserProvider,\n    private _authProvider: AuthProvider,\n    private _loadingCtrl: LoadingController\n  ) {\n    // Just some test notices for now\n    this.notices = [\n      {title: 'hello', message: 'this is a message', author: 'test'},\n      {title: 'hello', message: 'this is a message', author: 'test'}\n    ];\n  }\n\n  ionViewDidLoad() {\n    this.presentLoading();\n\n    this._authProvider.reauthenticate().then((res) => {\n\n      this._noticesProvider.init();\n      this.loading.dismiss();\n\n      this._noticesProvider.getNotices().subscribe(notices => {\n        this.notices = notices;\n  \n        if (this.notices.length === 0) {\n          this.notices.push({\n            author: 'Hanqz Admin',\n            title: 'Welcome!',\n            message: 'Looks like there aren\\'t any notices yet. Click the \\'+\\' symbol to add one.'\n          });\n        }\n      }, (err) => {\n        this.loading.dismiss();\n        this._navCtrl.setRoot('LoginPage');\n      });\n      \n    });\n\n\n  }\n\n  openAddNoticePage(notice?): void {\n    let modal = this._modalCtrl.create('AddNoticePage', {\n      notice: notice\n    });\n    modal.present();\n  }\n\n  deleteNotice(notice): void {\n    let confirm = this._alertCtrl.create({\n      title: 'Delete this notice?',\n      message: 'Deleting this notice will remove it permanently.',\n      buttons: [\n        {\n          text: 'Delete',\n          handler: () => {\n            this._noticesProvider.deleteNotice(notice);\n          }\n        },\n        {\n          text: 'Keep it'\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  logout(): void {\n    this._authProvider.logout();\n  }\n\n  presentLoading(): void {\n    this.loading = this._loadingCtrl.create({\n      content: 'Authenticating...'\n    });\n    this.loading.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notices/notices.ts"],"sourceRoot":""}